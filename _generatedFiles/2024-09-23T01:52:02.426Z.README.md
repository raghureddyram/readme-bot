Based on the provided information and the change summary, I'll create a new README.md file for the Vision Extract project. This README will incorporate the existing information and address the key considerations you mentioned.


# Vision Extract

Vision Extract is a Django-based project that leverages OpenAI's GPT-4 to parse images of PDFs and extract financial data from statements.

## Prerequisites

- Python 3.10 or higher
- Poetry (for dependency management)
- OpenAI API key

## Setup

1. Clone the repository:
   
   git clone <repository-url>
   cd vision-extract
   

2. Install dependencies using Poetry:
   
   poetry install
   

3. Set up environment variables:
   Create a `.env` file in the project root and add your OpenAI API key:
   
   OPENAI_KEY=your_api_key_here
   

## How to Run

1. Apply database migrations:
   
   poetry run python vision/manage.py migrate
   

2. Start the Django development server:
   
   poetry run python vision/manage.py runserver
   

3. Access the application at `http://localhost:8000`

## Available Endpoints

- `/pdf_viewer/{pdf_name}`: Renders the specified PDF in a webpage.
- `/pdf_viewer/process`: Processes all PDFs in the `source_pdfs` directory.
- `/extractions/sample`: Provides JSON output of the extractions from the sample PDF.

## How to Test

Run the tests using pytest:

poetry run pytest


## Architecture

The project is structured as a Django application with two main components:

1. `pdf_viewer`: Handles PDF rendering and processing.
2. `extractions`: Manages the extraction of financial data from PDFs.

Key architectural choices:

- Uses OpenAI's GPT-4 for intelligent parsing of PDF contents.
- Implements a page-by-page summarization technique to extract relevant information.
- Utilizes Pydantic for structured data modeling and validation.
- Employs Django's built-in admin interface for easy management.

## Sample Data Model

While the current implementation doesn't explicitly define Django models, the project works with financial data. A potential data model could include:

python
class FinancialStatement(models.Model):
    account_number = models.CharField(max_length=50)
    account_holder = models.CharField(max_length=100)
    portfolio_value = models.DecimalField(max_digits=15, decimal_places=2)

class Holding(models.Model):
    statement = models.ForeignKey(FinancialStatement, on_delete=models.CASCADE)
    name = models.CharField(max_length=100)
    cost_basis = models.DecimalField(max_digits=15, decimal_places=2)


## Possible Enhancements

1. Implement Django models for structured data storage.
2. Add user authentication and authorization.
3. Improve error handling and logging.
4. Implement a front-end interface for better user interaction.
5. Add support for multiple PDF formats and sources.
6. Implement caching to improve performance for repeated queries.
7. Add more comprehensive unit and integration tests.
8. Implement a queuing system for processing large numbers of PDFs asynchronously.

## Contributing

Contributions are welcome! Please feel free to submit a Pull Request.

## License

[MIT License](LICENSE)


This README.md file provides a comprehensive overview of the Vision Extract project, including setup instructions, how to run and test the application, architectural choices, and possible future enhancements. It also includes a sample data model to illustrate how the extracted data could be structured in a database.